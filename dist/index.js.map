{"version":3,"sources":["../src/operations/chatCompletion.ts","../src/operations/getConversation.ts","../src/operations/listConversations.ts","../src/index.ts"],"names":["axios"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAO,sBAAQ,GAAA,CAAC,IAAqB,KAAA,CAAC,UAAmB,QAAqD,KAAA;AAC5G,EAAM,MAAA,IAAI,MAAM,iBAAiB,CAAA;AACnC,CAAA;;;ACFA,IAAO,uBAAQ,GAAA,CAAC,GAAoB,KAAA,CAAC,SAAkB,OAAoD,KAAA;AACzG,EAAA,OAAO,IAAI,IAAK,CAAA,cAAA,CAAA;AAAA,IACd,MAAQ,EAAA,KAAA;AAAA,IACR,GAAA,EAAK,CAAqB,kBAAA,EAAA,OAAA,CAAQ,cAAc,CAAA;AAAA,GAAA,EAC7C,OACJ,CAAA,CAAA;AACH,CAAA;;;ACVA,IAAO,yBAAQ,GAAA,CAAC,GAAoB,KAAA,CAAC,OAAoD,KAAA;AACvF,EAAA,OAAO,IAAI,IAAK,CAAA,cAAA,CAAA;AAAA,IACd,MAAQ,EAAA,KAAA;AAAA,IACR,GAAK,EAAA;AAAA,GAAA,EACF,OACJ,CAAA,CAAA;AACH,CAAA;;;ACLA,IAAqB,aAArB,MAAgC;AAAA,EAG9B,WAAA,CAAY,QAA8B,WAAmC,EAAA;AAa7E,IAAA,IAAA,CAAA,IAAA,GAAO,CAAU,OAA4C,KAAA,OAAA,CAAA,IAAA,EAAA,IAAA,EAAA,aAAA;AAC3D,MAAI,IAAA;AACF,QAAA,MAAM,EAAE,IAAK,EAAA,GAAI,MAAM,IAAK,CAAA,KAAA,CAAM,QAAW,OAAO,CAAA;AACpD,QAAO,OAAA,IAAA;AAAA,eACA,KAAO,EAAA;AACd,QAAI,IAAAA,sBAAA,CAAM,YAAa,CAAA,KAAK,CAAG,EAAA;AAC7B,UAAM,MAAA,EAAE,UAAa,GAAA,KAAA;AAErB,UAAA,IAAI,qCAAU,IAAM,EAAA;AAClB,YAAA,MAAM,QAAS,CAAA,IAAA;AAAA;AACjB;AAGF,QAAM,MAAA,KAAA;AAAA;AACR,KACF,CAAA;AAEA,IAAA,IAAA,CAAA,cAAA,GAAiB,uBAAmB,CAAA;AACpC,IAAA,IAAA,CAAA,eAAA,GAAkB,wBAAgB,IAAI,CAAA;AACtC,IAAA,IAAA,CAAA,iBAAA,GAAoB,0BAAkB,IAAI,CAAA;AA/BxC,IAAK,IAAA,CAAA,KAAA,GAAQA,uBAAM,MAAO,CAAA,cAAA,CAAA;AAAA,MACxB,OAAA,EAAS,OAAO,OAAW,IAAA;AAAA,KACvB,EAAA,WAAA,IAAe,EACpB,CAAA,CAAA;AAED,IAAK,IAAA,CAAA,YAAA,CAAa,OAAO,SAAS,CAAA;AAAA;AACpC,EAEA,aAAa,KAAe,EAAA;AAC1B,IAAA,IAAA,CAAK,MAAM,QAAS,CAAA,OAAA,CAAQ,OAAO,eAAe,CAAA,GAAI,UAAU,KAAK,CAAA,CAAA;AAAA;AAuBzE","file":"index.js","sourcesContent":["import ChatbotSDK from \"$src\"\nimport { AxiosRequestConfig } from \"axios\"\n\nexport type Request = {\n  prompt: string,\n  conversationId: number,\n}\n\nexport type Response = unknown\n\nexport default (_sdk: ChatbotSDK) => (_request: Request, _options?: AxiosRequestConfig): Promise<Response> => {\n  throw new Error(\"Not implemented\")\n}\n","import ChatbotSDK from \"$src\"\nimport { Conversation } from \"$types/index\"\nimport { AxiosRequestConfig } from \"axios\"\n\nexport type Request = {\n  conversationId: number\n}\n\nexport type Response = Conversation\n\nexport default (sdk: ChatbotSDK) => (request: Request, options?: AxiosRequestConfig): Promise<Response> => {\n  return sdk.call({\n    method: \"get\",\n    url: `/get_conversation/${request.conversationId}`,\n    ...options\n  })\n}\n","import ChatbotSDK from \"$src\"\nimport { Conversation } from \"$types/index\"\nimport { AxiosRequestConfig } from \"axios\"\n\nexport type Response = Conversation[]\n\nexport default (sdk: ChatbotSDK) => (options?: AxiosRequestConfig): Promise<Response> => {\n  return sdk.call({\n    method: \"get\",\n    url: \"/list_conversations\",\n    ...options\n  })\n}\n","import axios, { Axios, AxiosRequestConfig, CreateAxiosDefaults } from \"axios\"\nimport { ChatbotSDKBaseConfig } from \"./types\"\n\nimport chatCompletion from \"$operations/chatCompletion\"\nimport getConversation from \"$operations/getConversation\"\nimport listConversations from \"$operations/listConversations\"\n\nexport default class ChatbotSDK {\n  axios: Axios\n\n  constructor(config: ChatbotSDKBaseConfig, axiosConfig?: CreateAxiosDefaults) {\n    this.axios = axios.create({\n      baseURL: config.baseUrl || \"https://api.hrtools.it\",\n      ...(axiosConfig || {}),\n    })\n\n    this.setAuthToken(config.authToken)\n  }\n\n  setAuthToken(token: string) {\n    this.axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\n  }\n\n  call = async <T>(request: AxiosRequestConfig): Promise<T> => {\n    try {\n      const { data } = await this.axios.request<T>(request)\n      return data\n    } catch (error) {\n      if (axios.isAxiosError(error)) {\n        const { response } = error\n\n        if (response?.data) {\n          throw response.data\n        }\n      }\n\n      throw error\n    }\n  }\n\n  chatCompletion = chatCompletion(this)\n  getConversation = getConversation(this)\n  listConversations = listConversations(this)\n}\n"]}